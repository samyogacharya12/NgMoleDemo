<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>NGL — DNA beads example</title>
  <script src="js/ngl.js"></script>
  <style>
    body { background:#111; color:#ddd; font-family: Arial, sans-serif; }
    #nglViewer { width:700px; height:500px; margin: 20px auto; border: 1px solid #444; }
    #info { width:700px; margin: 6px auto; font-size:14px; text-align:center; }
    button { margin:6px; padding:6px 10px; }
  </style>
</head>
<body>

<div id="nglViewer"></div>

<script>
  // ✅ Create stage object first
  const stage = new NGL.Stage("nglViewer");

  // Load nucleic structure
  stage.loadFile("molecules/output.mol2", { defaultRepresentation: false })
    .then(function (comp) {
      // DNA chain A
      comp.addRepresentation("spacefill", { sele: "chain A or resname DA DC DG DT", color: "yellow", radiusScale: 1.0 });

      // RNA chain B
      comp.addRepresentation("spacefill", { sele: "chain B or resname A U G C", color: "green", radiusScale: 1.0 });

      // Bonds as sticks
      comp.addRepresentation("stick", { sele: "chain A or chain B", radiusScale: 0.25, colorScheme: "element" });

      comp.autoView();
    })
    .catch(e => console.error(e));

  // ✅ Handle window resize
  window.addEventListener("resize", () => stage.handleResize(), false);
</script>
</body>
</html>
