<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>CaO NGL 2.x - Single Representation</title>
  <script src="https://cdn.jsdelivr.net/npm/ngl@2.0.0-dev.35/dist/ngl.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: black;
    }
    #viewport {
      width: 100%;
      height: 100%;
      background: black;
    }
  </style>
</head>
<body>
  <div id="viewport"></div>

  <script>
    const stage = new NGL.Stage("viewport", { backgroundColor: "black" });

    stage.loadFile("icm.occ.noH.mol2").then(comp => {
      // Oxygen atoms → blue
      comp.addRepresentation("spacefill", {
        sele: ".O",
        color: "blue",
        radiusType: "vdw",    // use van der Waals radius as base
        radiusScale: 100,     // increase overall radius multiplier
        scale: 95,           // apply additional scaling factor
        metalness: 0.01,
        roughness: 0.4     });

      // Calcium atoms → yellow
      comp.addRepresentation("ball+stick", {
        sele: ".CA",
        color: "yellow",
        radiusScale: 3.0
      });

      // Log atom details to console
      const names = [];
      comp.structure.eachAtom(atom => {
        names.push(`${atom.index + 1}: name=${atom.atomname}, element=${atom.element}, type=${atom.atomType}`);
      });
      console.log(names.join("\n"));

      // Auto-center and zoom out slightly
      comp.autoView();
      stage.viewer.camera.zoomOut(1.5);
    });

    // Handle window resize
    window.addEventListener("resize", () => stage.handleResize());
  </script>
</body>
</html>
